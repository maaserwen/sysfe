<header>
  <div class="middle-container clearfix">
    <div class="portrait-container">
      <a [routerLink]="['/home']">
        <img class="portrait-content" src="/assets/photo.png" alt="">
        <div class="border-mask"></div>
      </a>
    </div>
    <ul class="clearfix">
      <li><a href="javascript:void(0)">笔记</a></li>
      <li><a href="javascript:void(0)">分享</a></li>
    </ul>
    <a class="login-button" (click)="showLoginModal()" href="javascript:void(0)">登录/注册</a>
  </div>
  <nz-modal class="login-modal" [(nzVisible)]="isVisible" [nzOkLoading]="loading" [nzClosable]="false" [nzTitle]="ModalTitle" [nzFooter]="ModalFooter" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
    <ng-template #ModalTitle>
      <p [ngClass]="{'sign-in-btn modal-btn': true, 'active': !showSignUp}" (click)="showSignUp = false">登&nbsp;录</p>
      <p [ngClass]="{'sign-up-btn modal-btn': true, 'active': showSignUp}" (click)="showSignUp = true">注&nbsp;册</p>
    </ng-template>
    <ng-container *ngIf="!showSignUp; else tplSignUpForm">
      <form nz-form [formGroup]="signInForm" class="signInForm">
        <nz-form-item>
          <nz-form-label [nzSpan]="6" nzRequired nzFor="username">用户名</nz-form-label>
          <nz-form-control [nzSpan]="14" nzErrorTip="请输入3-10位用户名">
            <input nz-input (onchange)="test()" formControlName="username" id="username">
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label [nzSpan]="6" nzRequired nzFor="password">密码</nz-form-label>
          <nz-form-control [nzSpan]="14" nzErrorTip="请输入8-16位密码(至少包含1个字母，1个数字)">
            <input nz-input formControlName="password" type="password" id="password" >
          </nz-form-control>
        </nz-form-item>
      </form>
      <div nz-row class="forget-pwd">
        <div nz-col [nzSpan]="20">
          <span>忘记密码？</span>
        </div>
      </div>
    </ng-container>
    <ng-template #tplSignUpForm>
      <form nz-form [formGroup]="signUpForm" class="signUpForm">
        <nz-form-item>
          <nz-form-label [nzSpan]="6" nzRequired nzFor="username">用户名</nz-form-label>
          <nz-form-control [nzSpan]="14" nzErrorTip="请输入3-10位用户名">
            <input nz-input formControlName="username" id="username">
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label [nzSpan]="6" nzRequired nzFor="password">密码</nz-form-label>
          <nz-form-control [nzSpan]="14" nzErrorTip="请输入8-16位密码(至少包含1个字母，1个数字)">
            <input nz-input formControlName="password" type="password" id="password">
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label [nzSpan]="6" nzRequired nzFor="comfirmPassword">确认密码</nz-form-label>
          <nz-form-control [nzSpan]="14" nzErrorTip="两次输入密码不匹配">
            <input nz-input formControlName="comfirmPassword" type="password" id="comfirmPassword" validateEqual="password">
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label [nzSpan]="6" nzRequired nzFor="mail">邮箱</nz-form-label>
          <nz-form-control [nzSpan]="14" nzErrorTip="请输入正确的邮箱">
            <input nz-input formControlName="mail" id="mail">
          </nz-form-control>
        </nz-form-item>
      </form>
    </ng-template>
    <ng-template #ModalFooter>
      <button (click)="handleOk()" nz-button nzType="primary">
        <ng-container *ngIf="!showSignUp; else tplSignUpBtn">
          登&nbsp;录
        </ng-container>
        <ng-template #tplSignUpBtn>
          注&nbsp;册
        </ng-template>
      </button>
      <button nz-button nzType="default" (click)="handleCancel()">取&nbsp;消</button>
    </ng-template>
  </nz-modal>
</header>
